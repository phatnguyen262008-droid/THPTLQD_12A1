:root {
    /* M√†u n·ªÅn c·∫£ trang: Xanh tr·ªùi c·ª±c nh·∫°t, d·ªãu m·∫Øt */
    --bg: #f0f7ff; 
    
    /* M√†u Sidebar: Xanh Navy ƒë·∫≠m sang tr·ªçng */
    --sidebar: #0f172a; 
    
    /* M√†u ch·ªß ƒë·∫°o: Xanh n∆∞·ªõc bi·ªÉn s√°ng (Cyber Blue) */
    --primary: #38bdf8; 
    
    /* Gradient cho c√°c n√∫t v√† th·∫ª quan tr·ªçng */
    --grad-primary: linear-gradient(135deg, #0ea5e9 0%, #38bdf8 100%);
    
    --card: #ffffff;
    --text: #1e293b;
    --muted: #64748b;
    --radius: 16px;
}
    * { box-sizing: border-box; }
    
    /* 1. Thi·∫øt l·∫≠p chi·ªÅu cao 100% cho to√†n trang ƒë·ªÉ kh√¥ng b·ªã vi·ªÅn tr·∫Øng */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%; 
      font-family: Inter, sans-serif;
      background: var(--bg);
      overflow: hidden; /* ·∫®n thanh cu·ªôn c·ªßa tr√¨nh duy·ªát, ch·ªâ cu·ªôn n·ªôi dung con */
    }

    .layout {
      display: flex;
      width: 100%;
      height: 100vh; /* Chi·ªÅu cao b·∫±ng ƒë√∫ng m√†n h√¨nh */
    }

    /* 2. Sidebar: C·ªë ƒë·ªãnh b√™n tr√°i */
    .sidebar {
      width: 260px;
      background: linear-gradient(180deg, #0f172a, #020617);
      color: #fff;
      padding: 20px;
      display: flex;
      flex-direction: column;
      flex-shrink: 0; /* Kh√¥ng cho sidebar b·ªã co l·∫°i */
      overflow-y: auto; /* N·∫øu menu d√†i qu√° th√¨ cu·ªôn menu */
    }

    .menu h4 { font-size: 12px; opacity: .6; margin: 20px 0 8px; text-transform: uppercase; letter-spacing: 0.5px; }
    .menu a {
      display: block; padding: 10px 14px; border-radius: 10px;
      color: #cbd5f5; text-decoration: none; margin-bottom: 6px;
      transition: 0.2s;
    }
    .menu a.active, .menu a:hover { background: #1e293b; color: #fff; }
    .semester { margin-top: auto; background: #020617; padding: 14px; border-radius: 12px; }

    /* 3. Main Content: Chi·∫øm h·∫øt ph·∫ßn c√≤n l·∫°i & T·ª± cu·ªôn */
    .main {
      flex: 1; /* Chi·∫øm h·∫øt chi·ªÅu r·ªông c√≤n l·∫°i */
      padding: 24px 28px;
      overflow-y: auto; /* QUAN TR·ªåNG: Ch·ªâ cu·ªôn ph·∫ßn n·ªôi dung n√†y */
      height: 100%;
      display: flex; 
      flex-direction: column;
    }

    .topbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
    .search { width: 360px; padding: 12px; border-radius: 12px; border: 1px solid #ddd; outline: none; }
    .search:focus { border-color: var(--primary); }

    /* Page Logic */
    .page { display: none; animation: fadeIn 0.3s ease; }
    .page.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* Dashboard Cards */
    .cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px; }
    .card { background: #fff; border-radius: 14px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.02); }
    .card.primary { background: linear-gradient(135deg, #22c1d6, #1fb6ff); color: #fff; box-shadow: 0 8px 20px rgba(34, 193, 214, 0.3); }
    .card h3 { margin: 0 0 10px 0; font-size: 14px; opacity: 0.9; font-weight: 500; }
    .card .value { font-size: 32px; font-weight: 700; margin-bottom: 5px; }
    .card small { font-size: 13px; opacity: 0.8; }

    /* Content Grid */
    .content { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
    
    /* Lists */
    .list-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f1f5f9; }
    .list-item:last-child { border-bottom: none; }
    .badge { background: #dcfce7; color: #166534; padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 600; }
    .nonbadge { background: #fee2e2; color: #991b1b; padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 600; }

    /* Schedule */
    .schedule { padding: 12px 14px; border-radius: 8px; margin-bottom: 8px; font-size: 14px; font-weight: 500; }
    .Toan { background: #e0f2fe; color: #0369a1; }
    .Van { background: #ecfeff; color: #0e7490; }
    .Anh { background: #ecfdf5; color: #047857; }
    .Ly { background: #fff7ed; color: #c2410c; }
    .CC { background: #fdf2f8; color: #be185d; }
	    #hoc-sinh .card {
      width: 100%;
    }
	/* Qu·∫£n l√≠ h·ªçc sinh */
    #hoc-sinh .toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    #hoc-sinh .btn {
      padding: 8px 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #e5e7eb;
    }

    #hoc-sinh .btn-primary {
      background: var(--primary);
      color: #fff;
      font-weight: 600;
    }

    #hoc-sinh .table-container {
      width: 100%;
      overflow-x: auto;
    }

    #hoc-sinh .data-table {
      width: 100%;
      border-collapse: collapse;
    }

    #hoc-sinh .data-table th,
    #hoc-sinh .data-table td {
      padding: 12px 10px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    #hoc-sinh .data-table th {
      background: #f8fafc;
      font-weight: 600;
    }

    #hoc-sinh .data-table tr:hover {
      background: #f1f5f9;
    }
        /* 1. ƒê·ªãnh nghƒ©a h·ªá m√†u r·ª±c r·ª° */
    :root {
        --bg-body: #f0f2f5;
        --grad-primary: linear-gradient(135deg, #a55eea 0%, #45aaf2 100%);
        --grad-success: linear-gradient(135deg, #26de81 0%, #2bcbba 100%);
        --grad-warning: linear-gradient(135deg, #fd9644 0%, #fed330 100%);
        --grad-danger: linear-gradient(135deg, #eb3b5a 0%, #fc5c65 100%);
        --grad-schedule: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
        --glass: rgba(255, 255, 255, 0.9);
    }

    /* 2. C·∫•u tr√∫c n·ªÅn v√† Font */
    #tong-quan, #hoc-sinh {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: var(--bg-body);
        padding: 20px;
        border-radius: 20px;
    }

    /* 3. Hi·ªáu ·ª©ng c√°c th·∫ª Card ch·ªâ s·ªë */
    .cards { 
        display: grid; 
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
        gap: 20px; 
        margin-bottom: 30px; 
    }

    .card {
        background: var(--glass);
        padding: 25px;
        border-radius: 20px;
        border: none;
        box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
    }

    .card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }

    /* Th·∫ª ƒë·∫∑c bi·ªát c√≥ m√†u n·ªÅn Gradient */
    .card.primary { background: var(--grad-primary); color: white; }
    .card.success { border-bottom: 5px solid #26de81; }
    .card.warning { border-bottom: 5px solid #fd9644; }

    .card .value { font-size: 2.5rem; font-weight: 800; margin: 10px 0; }
    .card h3 { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; opacity: 0.8; margin: 0; }

    /* 4. Th·ªùi kh√≥a bi·ªÉu r·ª±c r·ª° */
    .schedule-grid { display: grid; gap: 10px; margin-top: 15px; }
    .schedule-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 20px;
        border-radius: 50px; /* Bo tr√≤n ki·ªÉu vi√™n thu·ªëc */
        color: white;
        font-weight: 600;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .sc-cc { background: linear-gradient(90deg, #45aaf2, #2d98da); }
    .sc-hdtn { background: linear-gradient(90deg, #a55eea, #8854d0); }
    .sc-sinh { background: linear-gradient(90deg, #fd9644, #fa8231); }
    .sc-li { background: linear-gradient(90deg, #2bcbba, #0fb9b1); }
	.sc-tin { background: linear-gradient(90deg, #ff0000, #ee0000); }

    /* 5. B·∫£ng h·ªçc sinh "sang ch·∫£nh" */
    .data-table { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
    .data-table thead th { padding: 15px; color: #888; font-weight: 600; text-transform: uppercase; font-size: 0.75rem; }
    .data-table tbody tr { background: white; transition: all 0.2s; }
    .data-table tbody tr:hover { transform: scale(1.01); box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .data-table td { padding: 15px; border: none; }
    .data-table td:first-child { border-radius: 15px 0 0 15px; font-weight: bold; color: #a55eea; }
    .data-table td:last-child { border-radius: 0 15px 15px 0; }

    /* 6. N√∫t b·∫•m v√† Badge */
    .btn-primary {
        background: var(--grad-primary);
        border: none; padding: 12px 25px; border-radius: 12px;
        color: white; font-weight: bold; cursor: pointer;
        box-shadow: 0 5px 15px rgba(69, 170, 242, 0.4);
    }

    .badge {
        background: #ebfaef; color: #2bcbba;
        padding: 6px 15px; border-radius: 8px; font-weight: bold;
    }
            /* Hi·ªáu ·ª©ng t·ªïng th·ªÉ */
        #hoc-sinh { 
            animation: fadeIn 0.6s ease-out; 
            background: #fdfdfd; 
            padding: 20px; 
            border-radius: 20px;
        }

        /* Toolbar r·ª±c r·ª° */
        #hoc-sinh .toolbar {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px; background: linear-gradient(135deg, #6c5ce7, #4834d4);
            padding: 20px; border-radius: 15px; color: white;
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.2);
        }

        #hoc-sinh .search {
            padding: 10px 15px; border: none; border-radius: 8px;
            width: 300px; outline: none; transition: 0.3s;
        }

        /* B·∫£ng h·ªçc sinh ki·ªÉu hi·ªán ƒë·∫°i */
        .table-container {
            border-radius: 15px; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            background: white;
        }

        .data-table { width: 100%; border-collapse: collapse; }
        .data-table thead th {
            background: #f8fafc; color: #636e72; padding: 15px;
            text-align: left; font-size: 0.8rem; text-transform: uppercase;
        }

        .data-table tbody tr { transition: 0.2s; border-bottom: 1px solid #f1f2f6; }
        .data-table tbody tr:hover { background: #f9f9ff; transform: scale(1.001); }

        /* Badge & Color */
        .badge {
            background: #e1f5fe; color: #0288d1; padding: 4px 12px;
            border-radius: 20px; font-size: 0.75rem; font-weight: bold;
        }
		.nonbadge {
            background: #ff3333; color: #880000; padding: 4px 12px;
            border-radius: 20px; font-size: 0.75rem; font-weight: bold;
        }
        .gender-nu { color: #fd79a8; } /* H·ªìng cho N·ªØ */
        .gender-nam { color: #0984e3; } /* Xanh cho Nam */
        .role-monitor { 
            background: #fff3cd; color: #856404; 
            padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; font-weight: bold;
        }
        
        .stt-circle {
            background: #6c5ce7; color: white; width: 25px; height: 25px;
            display: inline-flex; align-items: center; justify-content: center;
            border-radius: 50%; font-size: 0.75rem; font-weight: bold;
        }
                /* CSS trang tr√≠ b·ªï sung */
        .tkb-table {
            border-collapse: separate;
            border-spacing: 2px;
            width: 100%;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
        }
        .tkb-header {
            font-weight: bold;
            text-align: center;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-size: 0.85rem;
        }
        .tkb-input {
            width: 100%;
            padding: 8px;
            border: 1px solid transparent;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.5);
            text-align: center;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .tkb-input:focus {
            outline: none;
            background: #fff;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        /* ƒê·ªï m√†u cho c√°c m√¥n h·ªçc c·ª• th·ªÉ */
        input[value*="To√°n"] { background-color: #dbeafe; color: #1e40af; font-weight: 500; }
        input[value*="VƒÉn"] { background-color: #fce7f3; color: #9d174d; font-weight: 500; }
        input[value*="V·∫≠t l√≠"] { background-color: #fef3c7; color: #92400e; font-weight: 500; }
        input[value*="H√≥a h·ªçc"] { background-color: #ecfdf5; color: #065f46; font-weight: 500; }
        input[value*="Ngo·∫°i ng·ªØ"], input[value*="L·ªãch S·ª≠"] { background-color: #ede9fe; color: #5b21b6; font-weight: 500; }
        input[value*="Sinh h·ªçc"] { background-color: #f0fdf4; color: #166534; font-weight: 500; }
        input[value*="Tin h·ªçc"] { background-color: #e0f2fe; color: #075985; font-weight: 500; }
        input[value*="GDTC"], input[value*="GDQPAN"] { background-color: #f1f5f9; color: #475569; }
        input[value*="TNHN"] { background-color: #fff1f2; color: #9f1239; }
                /* Hi·ªáu ·ª©ng m∆∞·ª£t m√† khi v√†o trang */
        #thong-bao { animation: fadeInUp 0.6s ease-out; }

        /* N√¢ng c·∫•p Card th√¥ng b√°o */
        #thong-bao .card {
            border: 1px solid #f1f5f9;
            border-radius: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
            position: relative;
        }

        #thong-bao .card:hover {
            transform: scale(1.01);
            box-shadow: 0 20px 40px rgba(0,0,0,0.06) !important;
            border-color: #e2e8f0;
        }

        /* Hi·ªáu ·ª©ng cho n√∫t b·∫•m */
        .btn-action {
            padding: 8px 16px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .btn-action:hover { background: #e2e8f0 !important; transform: translateY(-2px); }

        /* Nh√£n tr·∫°ng th√°i ph√°t s√°ng */
        .status-pill {
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 11px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Hi·ªáu ·ª©ng Timeline gi·∫£ l·∫≠p */
        .timeline-container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            padding-left: 20px;
            border-left: 2px dashed #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .timeline-dot {
            position: absolute;
            left: -7px;
            width: 12px;
            height: 12px;
            background: #cbd5e1;
            border-radius: 50%;
            border: 2px solid white;
        }
                /* Hi·ªáu ·ª©ng t·ªïng th·ªÉ */
        #tai-lieu { animation: fadeIn 0.8s ease; }
        
        /* N√¢ng c·∫•p Card th∆∞ m·ª•c */
        .folder-card {
            background: white;
            border: 1px solid #f1f5f9;
            border-radius: 20px;
            padding: 25px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .folder-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05);
        }

        .folder-card::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
            background: var(--folder-color, #6366f1);
        }

        .folder-icon {
            font-size: 50px;
            margin-bottom: 15px;
            display: inline-block;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
        }

        /* N√¢ng c·∫•p B·∫£ng t√†i li·ªáu */
        .doc-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 10px;
        }

        .doc-table tr {
            background: white;
            transition: 0.2s;
        }

        .doc-table td {
            padding: 15px;
            border-top: 1px solid #f8fafc;
            border-bottom: 1px solid #f8fafc;
        }

        .doc-table td:first-child { border-left: 1px solid #f8fafc; border-radius: 12px 0 0 12px; }
        .doc-table td:last-child { border-right: 1px solid #f8fafc; border-radius: 0 12px 12px 0; }

        .doc-table tr:hover {
            background: #fdfdfd;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }

        /* N√∫t download hi·ªán ƒë·∫°i */
        .btn-download {
            background: #f8fafc;
            color: #475569;
            border: 1px solid #e2e8f0;
            padding: 8px 16px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-download:hover {
            background: #6366f1;
            color: white;
            border-color: #6366f1;
        }

        .file-type {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 6px;
            font-weight: 800;
            text-transform: uppercase;
        }
                /* CSS cho h·ªá th·ªëng chuy·ªÉn Tab Tin nh·∫Øn */
        #tin-nhan .chat-wrapper { display: flex; height: calc(100vh - 180px); gap: 20px; font-family: 'Segoe UI', sans-serif; }
        
        /* C·ªôt b√™n tr√°i */
        .contact-list { width: 320px; background: white; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); overflow: hidden; display: flex; flex-direction: column; }
        .contact-item { padding: 15px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: 0.3s; border-left: 4px solid transparent; border-bottom: 1px solid #f8fafc; }
        .contact-item:hover { background: #f1f2f6; }
        .contact-item.active { background: #f0f7ff; border-left-color: #6c5ce7; }

        /* C·ªôt b√™n ph·∫£i */
        .chat-content { flex: 1; background: white; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); display: flex; flex-direction: column; overflow: hidden; }
        
        /* Hi·ªáu ·ª©ng ·∫©n/hi·ªán chat pane */
        .chat-pane { display: none; flex-direction: column; height: 100%; animation: fadeInChat 0.3s ease; }
        .chat-pane.active { display: flex; }
        
        @keyframes fadeInChat {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .msg-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
        .bubble { padding: 10px 15px; border-radius: 15px; max-width: 70%; font-size: 14px; line-height: 1.5; }
        .received { align-self: flex-start; background: #f1f2f6; color: #2d3436; border-bottom-left-radius: 2px; }
        .sent { align-self: flex-end; background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white; border-bottom-right-radius: 2px; }

        .avatar { width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; }
                #cai-dat { animation: fadeIn 0.5s ease-in-out; }

        /* Ti√™u ƒë·ªÅ r·ª±c r·ª° */
        .setting-header {
            background: linear-gradient(135deg, #2d3436 0%, #000000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.2rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Th·∫ª c√†i ƒë·∫∑t ki·ªÉu m·ªõi */
        #cai-dat .card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(226, 232, 240, 0.6);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.03);
            transition: 0.3s;
            margin-bottom: 20px;
        }

        #cai-dat .card:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(0,0,0,0.06); }

        /* Avatar r·ª±c r·ª° */
        .profile-avatar {
            width: 100px; height: 100px;
            background: linear-gradient(45deg, #6366f1, #a855f7);
            border-radius: 30px;
            display: flex; align-items: center; justify-content: center;
            font-size: 40px;
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
            position: relative;
        }
        
        .profile-avatar::after {
            content: "üì∏"; position: absolute; bottom: -5px; right: -5px;
            font-size: 16px; background: white; padding: 5px; 
            border-radius: 50%; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* N√∫t b·∫•m chuy·ªÉn ƒë·ªïi (Switch) */
        .switch {
            position: relative; display: inline-block; width: 50px; height: 26px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #cbd5e1; transition: .4s; border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: ""; height: 18px; width: 18px;
            left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%;
        }
        input:checked + .slider { background-color: #6366f1; }
        input:checked + .slider:before { transform: translateX(24px); }

        /* √î nh·∫≠p li·ªáu tinh t·∫ø */
        .input-field {
            width: 100%; padding: 12px 15px; border: 2px solid #f1f5f9;
            border-radius: 12px; outline: none; transition: 0.3s;
            font-size: 14px; color: #1e293b;
        }
        .input-field:focus { border-color: #6366f1; background: #f8fafc; }

        /* Color Picker */
        .color-dot {
            width: 32px; height: 32px; border-radius: 10px;
            cursor: pointer; transition: 0.3s; border: 3px solid transparent;
        }
        .color-dot:hover { transform: scale(1.2); }
        .color-dot.active { border-color: #1e293b; box-shadow: 0 0 10px rgba(0,0,0,0.1); }

        /* Danger Zone */
        .danger-zone {
            background: #fff5f5 !important;
            border: 2px dashed #feb2b2 !important;
        }

        .btn-gradient {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white; border: none; padding: 12px 25px;
            border-radius: 12px; font-weight: 600; cursor: pointer;
            transition: 0.3s; box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }
        .btn-gradient:hover { opacity: 0.9; transform: translateY(-2px); }
/* ================= DARK MODE (FINAL - ƒê·∫∏P & D·ªÑ NH√åN) ================= */

body.dark {
  --bg: #0f172a;
  --bg-body: #0f172a;
  --sidebar: #020617;
  --card: #020617;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --glass: rgba(2, 6, 23, 0.88);

  background-color: var(--bg);
  color: var(--text);
}

/* Sidebar */
body.dark .sidebar {
  background: linear-gradient(180deg, #020617, #020617);
}

/* Card / box */
body.dark .card,
body.dark .folder-card,
body.dark .table-container,
body.dark .data-table tbody tr,
body.dark .page,
body.dark .content {
  background: var(--card);
  color: var(--text);
  border: 1px solid #1e293b;
  box-shadow: 0 12px 32px rgba(0,0,0,0.45);
}

/* Header / banner tr·∫Øng to */
body.dark .hero,
body.dark .banner,
body.dark .school-info,
body.dark .topbar {
  background: #020617;
  color: var(--text);
  border-bottom: 1px solid #1e293b;
}

/* Menu */
body.dark .menu a {
  color: #cbd5f5;
}
body.dark .menu a.active,
body.dark .menu a:hover {
  background: #1e293b;
  color: #ffffff;
}

/* Table */
body.dark .data-table thead th {
  background: #020617;
  color: #cbd5f5;
}
body.dark .data-table tbody tr:hover {
  background: #020617;
}

/* Text ph·ª• */
body.dark p,
body.dark small,
body.dark span {
  color: #cbd5f5;
}

/* ·∫¢nh ‚Äì gi·∫£m ch√≥i */
body.dark img {
  filter: brightness(0.78) contrast(1.05);
}

/* ================= SWITCH ================= */

.switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.switch input {
  display: none;
}

.slider {
  position: absolute;
  inset: 0;
  cursor: pointer;
  background-color: #334155;
  border-radius: 999px;
  transition: 0.3s;
}

.slider::before {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  left: 3px;
  top: 3px;
  background: white;
  border-radius: 50%;
  transition: 0.3s;
}

input:checked + .slider {
  background-color: #22c1d6;
}

input:checked + .slider::before {
  transform: translateX(20px);
}

/* =========================================================
   TOPBAR (th√™m toggle + responsive)
   ========================================================= */
.topbar { gap: 12px; }
.topbar-right { display: flex; align-items: center; gap: 14px; }
.user-name { font-weight: 600; white-space: nowrap; }

/* Icon button */
.icon-btn{
  border: 1px solid rgba(0,0,0,0.08);
  background: rgba(255,255,255,0.7);
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  line-height: 1;
}
.icon-btn:active{ transform: translateY(1px); }

/* Switch (iOS style) */
.switch { position: relative; display: inline-block; width: 48px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer; inset: 0;
  background: #cbd5e1; border-radius: 999px;
  transition: .25s;
}
.slider:before {
  content: ""; position: absolute;
  height: 22px; width: 22px; left: 3px; top: 3px;
  background: white; border-radius: 999px;
  transition: .25s;
  box-shadow: 0 6px 16px rgba(0,0,0,.15);
}
.switch input:checked + .slider { background: #38bdf8; }
.switch input:checked + .slider:before { transform: translateX(20px); }

/* Backdrop for mobile sidebar */
.sidebar-backdrop{
  display:none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  z-index: 40;
}

/* =========================================================
   MOBILE RESPONSIVE
   - Sidebar off-canvas
   - Cards + grids co l·∫°i
   ========================================================= */
.sidebar-toggle{ display:none; }

@media (max-width: 900px){
  html, body { overflow: auto; } /* mobile c·∫ßn scroll */
  .layout{ height: auto; min-height: 100vh; }
  .main{ padding: 18px 14px; }

  .sidebar-toggle{ display:inline-flex; }
  .search{ width: 100%; max-width: 100%; }

  /* Sidebar off-canvas */
  .sidebar{
    position: fixed;
    top: 0; left: 0;
    height: 100vh;
    transform: translateX(-105%);
    transition: transform .25s ease;
    z-index: 50;
  }
  body.sidebar-open .sidebar{ transform: translateX(0); }
  body.sidebar-open .sidebar-backdrop{ display:block; }

  /* Topbar wrap */
  .topbar{
    flex-wrap: wrap;
    align-items: center;
  }
  .topbar-right{ margin-left:auto; }

  /* Grids stack */
  .cards{ grid-template-columns: 1fr !important; }
  .content, .content-bottom { grid-template-columns: 1fr !important; }
}

/* =========================================================
   DARK MODE ‚Äî GLASSMORPHISM (ƒë·∫πp + kh√¥ng ph√° layout c≈©)
   ========================================================= */
body, .sidebar, .main, .card, .menu a, .search, input, select, textarea, button {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease, transform .25s ease;
}

body.dark{
  --bg: #0b1220;
  --card: rgba(255,255,255,.06);
  --text: #e5e7eb;
  --muted: #94a3b8;
}

body.dark{
  background:
    radial-gradient(900px 600px at 10% 10%, rgba(56,189,248,.18), transparent 55%),
    radial-gradient(700px 500px at 85% 20%, rgba(14,165,233,.12), transparent 55%),
    radial-gradient(800px 650px at 50% 95%, rgba(99,102,241,.10), transparent 60%),
    linear-gradient(180deg, #060913, #0b1220 60%, #060913);
  color: var(--text);
}

body.dark .sidebar{
  background: linear-gradient(180deg, rgba(2,6,23,.92), rgba(0,0,0,.78));
  border-right: 1px solid rgba(255,255,255,.08);
  box-shadow: 8px 0 30px rgba(0,0,0,.35);
}
body.dark .menu a{ color: rgba(226,232,240,.78); }
body.dark .menu a:hover{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.10);
}
body.dark .menu a.active{
  background: linear-gradient(135deg, rgba(56,189,248,.22), rgba(14,165,233,.10));
  border: 1px solid rgba(56,189,248,.22);
  color: #fff;
  box-shadow: 0 10px 24px rgba(56,189,248,.10);
}

body.dark .card{
  background: var(--card) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  box-shadow: 0 12px 30px rgba(0,0,0,.35) !important;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}
body.dark .search,
body.dark input,
body.dark select,
body.dark textarea{
  background: rgba(255,255,255,.05) !important;
  color: var(--text) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
}
body.dark .search::placeholder,
body.dark input::placeholder,
body.dark textarea::placeholder{
  color: rgba(148,163,184,.85) !important;
}
body.dark .search:focus,
body.dark input:focus,
body.dark select:focus,
body.dark textarea:focus{
  border-color: rgba(56,189,248,.55) !important;
  box-shadow: 0 0 0 4px rgba(56,189,248,.12) !important;
}

/* Fix c√°c block b·ªã set background tr·∫Øng inline (gi·ªØ ƒë∆∞·ª£c n·∫øu kh√¥ng inline), ∆∞u ti√™n text */
body.dark h1, body.dark h2, body.dark h3, body.dark h4, body.dark p, body.dark span, body.dark small{
  color: inherit;
}


/* =========================================================
   UI POLISH (ƒë·∫πp h∆°n, kh√¥ng ph√° layout)
   ========================================================= */

/* Topbar glass */
.topbar{
  position: sticky;
  top: 0;
  z-index: 20;
  padding: 14px 14px;
  border-radius: 18px;
  background: rgba(255,255,255,.75);
  border: 1px solid rgba(0,0,0,.06);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 10px 24px rgba(0,0,0,.06);
}
.search{
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.10);
  background: rgba(255,255,255,.85);
}
.icon-btn{
  background: rgba(255,255,255,.85);
}

/* Chat layout */
.chat-wrapper{
  display: grid;
  grid-template-columns: 340px 1fr;
  gap: 16px;
  height: calc(100vh - 140px);
  min-height: 520px;
}
.contact-list{
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(14px);
}
.contact-list-header{
  padding: 18px 20px;
  background: var(--grad-primary);
  color: white;
}
.contact-list-title{ margin: 0; font-weight: 800; letter-spacing: .2px; }
.contact-item{
  display:flex;
  align-items:center;
  gap: 12px;
  padding: 14px 16px;
  cursor:pointer;
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.contact-item:hover{ background: rgba(56,189,248,.08); }
.contact-item.active{
  background: rgba(56,189,248,.12);
  border-left: 4px solid rgba(56,189,248,.9);
}
.avatar{
  width: 40px; height: 40px;
  border-radius: 14px;
  display:flex; align-items:center; justify-content:center;
  font-size: 18px;
  border: 1px solid rgba(0,0,0,.06);
}

.chat-content{
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(14px);
  display:flex;
  flex-direction: column;
}
.chat-pane{ display:none; height: 100%; }
.chat-pane.active{ display:flex; flex-direction: column; height: 100%; }

.chat-header{
  padding: 14px 18px;
  font-weight: 800;
  border-bottom: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
}
.chat-header.accent-purple{ color:#6c5ce7; }
.chat-header.accent-amber{ color:#f59e0b; }
.chat-header.accent-sky{ color:#0284c7; }

.msg-area{
  flex: 1;
  padding: 16px;
  overflow:auto;
  display:flex;
  flex-direction: column;
  gap: 10px;
  background: rgba(255,255,255,.55);
}
.msg-area.theme-purple{ background: rgba(108,92,231,.06); }
.msg-area.theme-amber{ background: rgba(245,158,11,.06); }
.msg-area.theme-sky{ background: rgba(2,132,199,.06); }

.bubble{
  max-width: 76%;
  padding: 12px 14px;
  border-radius: 16px;
  line-height: 1.45;
  box-shadow: 0 10px 20px rgba(0,0,0,.06);
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.85);
}
.bubble.sent{
  align-self: flex-end;
  font-weight: 650;
  background: rgba(56,189,248,.30);
  border-color: rgba(56,189,248,.40);
  color: var(--text);
}
.bubble.received{
  align-self: flex-start;
}

.chat-inputbar{
  padding: 12px;
  display:flex;
  gap: 10px;
  border-top: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
}
.chat-input{
  flex: 1;
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.12);
  outline: none;
  background: rgba(255,255,255,.85);
}
.chat-send{
  padding: 0 18px;
  border-radius: 999px;
  border: none;
  cursor:pointer;
  font-weight: 800;
  background: var(--grad-primary);
  color: white;
  box-shadow: 0 12px 24px rgba(56,189,248,.18);
}
.chat-send:active{ transform: translateY(1px); }

/* Dark polish overrides */
body.dark .topbar{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
}
body.dark .icon-btn{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
  color: #e5e7eb;
}
body.dark .contact-list,
body.dark .chat-content{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
}
body.dark .chat-header,
body.dark .chat-inputbar{
  background: rgba(255,255,255,.05);
  border-color: rgba(255,255,255,.10);
}
body.dark .msg-area{
  background: rgba(255,255,255,.03);
}
body.dark .bubble{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.10);
  box-shadow: 0 12px 26px rgba(0,0,0,.35);
}
body.dark .bubble.sent{
  background: rgba(56,189,248,.24);
  border-color: rgba(56,189,248,.32);
  color: #e5e7eb;
}
body.dark .contact-item{ border-bottom-color: rgba(255,255,255,.08); }
body.dark .contact-item:hover{ background: rgba(255,255,255,.05); }
body.dark .contact-item.active{
  background: rgba(56,189,248,.12);
  border-left-color: rgba(56,189,248,.9);
}
body.dark .chat-input{
  background: rgba(255,255,255,.05);
  border-color: rgba(255,255,255,.12);
  color: #e5e7eb;
}

/* Mobile chat stack */
@media (max-width: 900px){
  .chat-wrapper{
    grid-template-columns: 1fr;
    height: auto;
    min-height: auto;
  }
  .contact-list{ order: 1; }
  .chat-content{ order: 2; }
}



/* =========================================================
   VIP PRO PATCH (Dark mode + Login modal + Attendance page)
   - kh√¥ng ph√° ch·ª©c nƒÉng c≈©
   ========================================================= */

/* Fix: dark mode override c·∫£ inline background */
body.dark .card,
body.dark .page,
body.dark .table-container,
body.dark .data-table tbody tr,
body.dark .topbar,
body.dark .semester,
body.dark .sidebar,
body.dark .content,
body.dark .content-bottom,
body.dark .schedule,
body.dark section {
  background: var(--card) !important;
  color: var(--text) !important;
}

body.dark .data-table thead th{
  background: rgba(2,6,23,.75) !important;
  color: rgba(226,232,240,.88) !important;
  border-bottom: 1px solid rgba(255,255,255,.08) !important;
}

body.dark .data-table td{
  color: rgba(226,232,240,.92) !important;
}

body.dark .search,
body.dark .input-field,
body.dark input,
body.dark select,
body.dark textarea{
  background: rgba(255,255,255,.06) !important;
  color: var(--text) !important;
  border-color: rgba(255,255,255,.10) !important;
}

body.dark hr{ border-color: rgba(255,255,255,.08) !important; }

/* Locked state when login required */
body.locked .layout{
  filter: blur(2px);
  pointer-events: none;
  user-select: none;
}
body.locked #loginModal,
body.locked #loginBackdrop{
  pointer-events: auto;
  filter: none;
}

/* Modal */
.modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(2,6,23,.60);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 90;
}
.modal{
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  padding: 18px;
}
.modal-card{
  width: min(520px, 100%);
  border-radius: 22px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(226,232,240,.8);
  box-shadow: 0 24px 60px rgba(0,0,0,.18);
  padding: 22px;
}
body.dark .modal-card{
  background: rgba(2,6,23,.86);
  border-color: rgba(255,255,255,.10);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
}
.modal-title{ font-size: 20px; font-weight: 800; letter-spacing: -.2px; }
.modal-subtitle{ margin-top: 6px; color: var(--muted); font-size: 13px; }
.modal-row{ display:flex; align-items:center; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
.remember{ display:flex; align-items:center; gap:8px; font-size: 13px; color: var(--muted); }
.modal-hint{ color: var(--muted); font-size: 12px; margin-top: 4px; }
.modal-error{
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(239,68,68,.12);
  border: 1px solid rgba(239,68,68,.20);
  color: #ef4444;
  font-weight: 600;
  font-size: 13px;
}

/* Attendance UI */
.attendance-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.attendance-list{ display:grid; gap: 10px; margin-top: 12px; }
.att-row{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(226,232,240,.8);
  background: rgba(255,255,255,.65);
}
body.dark .att-row{
  border-color: rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.att-name{ font-weight: 700; }
.att-toggle{ display:flex; align-items:center; gap:10px; cursor:pointer; user-select:none; }
.att-toggle input{ width: 18px; height: 18px; }
.att-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 7px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  background: rgba(34,197,94,.14);
  border: 1px solid rgba(34,197,94,.22);
  color: #16a34a;
  min-width: 88px;
}
.att-pill.absent{
  background: rgba(239,68,68,.14);
  border-color: rgba(239,68,68,.22);
  color: #ef4444;
}

/* Toast */
.toast{
  position: fixed;
  right: 18px;
  bottom: 18px;
  padding: 12px 14px;
  border-radius: 14px;
  background: rgba(15,23,42,.92);
  color: #fff;
  font-weight: 700;
  box-shadow: 0 18px 45px rgba(0,0,0,.35);
  transform: translateY(10px);
  opacity: 0;
  transition: .2s ease;
  z-index: 120;
}
.toast.show{ opacity: 1; transform: translateY(0); }


/* =============================
   DARK MODE FIXES (Tr∆∞·ªùng h·ªçc + Qu·∫£n l√Ω h·ªçc sinh)
   ============================= */

/* Tr∆∞·ªùng h·ªçc: fix n·ªÅn tr·∫Øng ƒë√® l√™n ƒëen do inline style */
body.dark #truong-hoc{ background:#0b1220 !important; }
body.dark #truong-hoc .card{
  background:#0f172a !important;
  color:#e5e7eb !important;
  border: 1px solid rgba(255,255,255,.08) !important;
}
body.dark #truong-hoc h1,
body.dark #truong-hoc h2,
body.dark #truong-hoc h3,
body.dark #truong-hoc p,
body.dark #truong-hoc small,
body.dark #truong-hoc span,
body.dark #truong-hoc label{ color:#e5e7eb !important; }

/* override inline white/light backgrounds inside "Tr∆∞·ªùng h·ªçc" */
body.dark #truong-hoc [style*="background: white"],
body.dark #truong-hoc [style*="background:white"],
body.dark #truong-hoc [style*="background: #fff"],
body.dark #truong-hoc [style*="background:#fff"]{ background:#0f172a !important; }

/* c√°c block m√†u xanh nh·∫°t (rgb...) ƒë·ªïi sang glass t·ªëi */
body.dark #truong-hoc [style*="background: rgb(153, 209, 235)"],
body.dark #truong-hoc [style*="background:rgb(153, 209, 235)"],
body.dark #truong-hoc [style*="background:#dde9aa"],
body.dark #truong-hoc [style*="background: #dde9aa"]{ background: rgba(56,189,248,.10) !important; }

/* √©p c√°c m√†u ch·ªØ inline t·ªëi -> s√°ng */
body.dark #truong-hoc [style*="color:#0f172a"],
body.dark #truong-hoc [style*="color: #0f172a"],
body.dark #truong-hoc [style*="color:#334155"],
body.dark #truong-hoc [style*="color: #334155"],
body.dark #truong-hoc [style*="color:#475569"],
body.dark #truong-hoc [style*="color: #475569"],
body.dark #truong-hoc [style*="color:#64748b"],
body.dark #truong-hoc [style*="color: #64748b"]{ color:#cbd5e1 !important; }

/* Qu·∫£n l√Ω h·ªçc sinh: fix tr·∫°ng th√°i khi dark mode */
body.dark #hoc-sinh{
  background:#0b1220 !important;
  color:#e5e7eb !important;
  border: 1px solid rgba(255,255,255,.06);
}
body.dark #hoc-sinh .table-container{ background:#0f172a !important; box-shadow:none !important; }
body.dark #hoc-sinh .data-table thead th{
  background: rgba(255,255,255,.06) !important;
  color:#cbd5e1 !important;
}
body.dark #hoc-sinh .data-table tbody tr{ background:#0f172a !important; }
body.dark #hoc-sinh .data-table tbody tr:hover{ background: rgba(255,255,255,.06) !important; }
body.dark #hoc-sinh .data-table td{ color:#e5e7eb !important; }

/* Badge tr·∫°ng th√°i */
body.dark #hoc-sinh .badge{
  background: rgba(56,189,248,.16) !important;
  color:#7dd3fc !important;
  border: 1px solid rgba(56,189,248,.28) !important;
}
body.dark #hoc-sinh .nonbadge{
  background: rgba(239,68,68,.16) !important;
  color:#fca5a5 !important;
  border: 1px solid rgba(239,68,68,.28) !important;
}

body.dark #hoc-sinh .btn{ background: rgba(255,255,255,.08) !important; color: #e5e7eb !important; }
